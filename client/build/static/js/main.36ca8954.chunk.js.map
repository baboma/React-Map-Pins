{"version":3,"sources":["client.js","context.js","components/PinIcon.js","components/Pin/NoContent.js","components/Pin/CreatePin.js","graphql/mutations.js","components/Comment/CreateComment.js","components/Comment/Comments.js","components/Pin/PinContent.js","components/Blog.js","graphql/subscriptions.js","components/Map/Subscriptions.js","components/Map/GetUserPosition.js","components/Map/PopupDialog.js","components/Map/Map.js","graphql/queries.js","withRoot.js","pages/App.js","components/Auth/Login.js","pages/Splash.js","ProtectedRoute.js","reducer.js","serviceWorker.js","components/Auth/Signout.js","components/Header.js","index.js"],"names":["BASE_URL","useClient","_useState","useState","_useState2","Object","slicedToArray","idToken","setIdToken","useEffect","token","window","gapi","auth2","getAuthInstance","currentUser","get","getAuthResponse","id_token","GraphQLClient","headers","authorization","Context","createContext","isAuth","draft","pins","currentPin","mapStyle","PinIcon","_ref","size","color","onClick","react_default","a","createElement","PlaceTwoTone_default","style","fontSize","withStyles","theme","picture","display","flexDirection","marginTop","root","alignItems","justifyContent","icon","margin","spacing","unit","classes","_useContext","useContext","state","dispatch","visible","setVisible","plan","index_es","type","payload","src","alt","sattelite","className","noWrap","component","variant","align","gutterBottom","length","Explore_default","ReactWeather_default","forecast","apikey","form","paddingBottom","contentField","marginLeft","marginRight","width","input","alignCenter","iconLarge","leftIcon","rightIcon","button","marginBottom","mobileSize","useMediaQuery","client","title","setTitle","_useState3","_useState4","image","setImage","_useState5","_useState6","content","setContent","_useState7","_useState8","submitting","setSubmitting","handleDeleteDraft","handleImageUpload","_ref2","asyncToGenerator","regenerator_default","mark","_callee","data","res","wrap","_context","prev","next","FormData","append","axios","post","sent","abrupt","url","stop","apply","this","arguments","handleSubmit","_ref3","_callee2","event","_state$draft","latitude","longitude","variables","_context2","preventDefault","request","t0","console","error","_x","Typography_default","LandscapeOutlined_default","TextField_default","name","label","placeholder","onChange","e","target","value","accept","id","files","htmlFor","Button_default","AddAPhotoTwoTone_default","multiline","rows","fullWidth","Clear_default","disabled","trim","SaveTwoTone_default","flex","clearButton","padding","sendButton","palette","secondary","dark","comment","setComment","handleSubmitComment","pinId","_id","text","Fragment","IconButton_default","InputBase_default","Send_default","Divider_default","backgroundColor","background","paper","inline","comments","List_default","map","i","ListItem_default","key","ListItemAvatar_default","Avatar_default","author","ListItemText_default","primary","distanceInWordsToNow","Number","createdAt","textAlign","_state$currentPin","Face_default","AccessTime_default","format","Comment_CreateComment","Comment_Comments","minWidth","maxWidth","maxHeight","overflowY","rootMobile","overflowX","BlogContent","CreatePin","PinContent","NoContent","PIN_ADDED_SUBSCRIPTION","gql","_templateObject","PIN_UPDATED_SUBSCRIPTION","_templateObject2","PIN_DELETED_SUBSCRIPTION","_templateObject3","Subscriptions","react_apollo_esm","subscription","SUBSCRIPTION","onSubscriptionData","pinAdded","subscriptionData","pinUpdated","pinDeleted","locateUser","position","top","left","getUserPosition","placement","MyLocation_default","PopupDialog","props","handleDeletePin","isAuthUser","popup","closePopup","esm","anchor","closeOnClick","onClose","popupImage","popupTab","toFixed","DeleteTwoTone_default","deleteIcon","INITIAL_VIEWPORT","zoom","navigationControl","height","objectFit","getPins","viewport","setViewport","userPosition","setUserPosition","setPopup","findIndex","pin","highlightNewPin","differenceInMinutes","Date","now","_ref5","createdPins","offsetLeft","offsetTop","handleSelectPin","assign","mapboxApiAccessToken","scrollZoom","onViewportChange","newViewport","_ref4","lngLat","leftButton","_lngLat","PopupDialog_PopupDialog","Map_GetUserPosition","navigator","geolocation","getCurrentPosition","_position$coords","coords","objectSpread","Subscriptions_Subscriptions","components_Blog","createMuiTheme","light","purple","main","green","typography","useNextVariants","withRoot","Component","styles","CssBaseline_default","components_Map_Map","flexGrow","logo","onSuccess","googleUser","me","isSignedIn","onFailure","err","google_login","clientId","buttonText","Splash","Redirect","to","Auth_Login","ProtectedRoute","rest","objectWithoutProperties","Route","render","reducer","newPin","prevPins","filter","concat","toConsumableArray","deletedPin","filteredPins","updatedCurrentPin","updatedPins","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","catch","cursor","buttonIcon","onLogoutSuccess","ExitToApp_default","grow","grow1","mobile","borderRadius","AppBar_default","Toolbar_default","Map_default","Auth_Signout","wsLink","WebSocketLink","uri","options","reconnect","ApolloClient","link","cache","InMemoryCache","ReactDOM","initialState","_useReducer","useReducer","_useReducer2","BrowserRouter","context","Provider","components_Header","Switch","src_ProtectedRoute","exact","path","App","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.36ca8954.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\nimport { GraphQLClient } from 'graphql-request'\n\nexport const BASE_URL = process.env.NODE_ENV === 'production'\n  ? 'https://tranquil-reef-69433.herokuapp.com/graphql'\n  : 'http://localhost:4000/graphql'\n\nexport const useClient = () => {\n  const [idToken, setIdToken] = useState('')\n\n  useEffect(() => {\n    const token = window.gapi.auth2\n      .getAuthInstance()\n      .currentUser.get()\n      .getAuthResponse().id_token\n    setIdToken(token)\n  }, [])\n\n  return new GraphQLClient(BASE_URL, {\n    headers: { authorization: idToken }\n  })\n}\n","import { createContext } from 'react'\n\nconst Context = createContext({\n  currentUser: null,\n  isAuth: false,\n  draft: null,\n  pins: [],\n  currentPin: null,\n  mapStyle: 'mapbox://styles/mapbox/streets-v11'\n})\n\nexport default Context\n","import React from 'react'\nimport PlaceTwoTone from '@material-ui/icons/PlaceTwoTone'\n\nexport default ({ size, color, onClick }) => (\n  <PlaceTwoTone onClick={onClick} style={{ fontSize: size, color }} />\n)\n","import React, { useContext, useState } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport ExploreIcon from '@material-ui/icons/Explore'\nimport { Button, Typography } from '@material-ui/core'\nimport Context from '../../context'\nimport ReactWeather from 'react-open-weather'\n\nconst NoContent = ({ classes }) => {\n  const { state, dispatch } = useContext(Context)\n  const [visible, setVisible] = useState(true)\n\n  const showPlan = () => {\n    dispatch({ type: 'SET_STREETS', payload: 'mapbox://styles/mapbox/streets-v11' })\n    setVisible(!visible)\n  }\n  const showSatellite = () => {\n    dispatch({ type: 'SET_SATELLITE', payload: 'mapbox://styles/mapbox/satellite-v9' })\n    setVisible(!visible)\n  }\n\n  const plan = (<Button onClick={showPlan}>\n    <img src='../../images/plan_map.png' alt='plan map' />\n  </Button>)\n  const sattelite = (<Button onClick={showSatellite}>\n    <img src='../../images/satellite_map.png' alt='satellite map' />\n  </Button>)\n\n  return (<div>\n    <div className={classes.picture}>\n      {visible ? sattelite : plan}\n    </div>\n    <div className={classes.root}>\n      <Typography\n        noWrap\n        component='h2'\n        variant='h6'\n        align='center'\n        color='error'\n        gutterBottom\n      >\n        {state.pins.length} ePostal cards created.\n    </Typography>\n      <ExploreIcon className={classes.icon} />\n      <Typography\n        noWrap\n        component='h2'\n        variant='h6'\n        align='center'\n        color='textPrimary'\n        gutterBottom\n      >\n        Click on the map to add a pin\n    </Typography>\n    </div>\n    <div>\n      <ReactWeather\n        forecast='today'\n        apikey='f1b6f1dc028142c6a2324807191805'\n        type='auto'\n      />\n    </div>\n  </div>)\n}\n\nconst styles = theme => ({\n  picture: {\n    display: 'flex',\n    flexDirection: 'row',\n    marginTop: '1em'\n  },\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    justifyContent: 'center'\n  },\n  icon: {\n    margin: theme.spacing.unit,\n    fontSize: '35px'\n  }\n})\n\nexport default withStyles(styles)(NoContent)\n","import React, { useState, useContext } from 'react'\nimport axios from 'axios'\nimport { withStyles } from '@material-ui/core/styles'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhotoTwoTone'\nimport LandscapeIcon from '@material-ui/icons/LandscapeOutlined'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport SaveIcon from '@material-ui/icons/SaveTwoTone'\nimport { unstable_useMediaQuery as useMediaQuery } from '@material-ui/core/useMediaQuery'\n\nimport Context from '../../context'\nimport { useClient } from '../../client'\nimport { CREATE_PIN_MUTATION } from '../../graphql/mutations'\n\nconst CreatePin = ({ classes }) => {\n  const mobileSize = useMediaQuery('(max-width: 650px)')\n  const client = useClient()\n  const { state, dispatch } = useContext(Context)\n  const [title, setTitle] = useState('')\n  const [image, setImage] = useState('')\n  const [content, setContent] = useState('')\n  const [submitting, setSubmitting] = useState(false)\n\n  const handleDeleteDraft = () => {\n    setTitle('')\n    setImage('')\n    setContent('')\n    dispatch({ type: 'DELETE_DRAFT' })\n  }\n\n  const handleImageUpload = async () => {\n    const data = new FormData()\n    data.append('file', image)\n    data.append('upload_preset', 'geopins')\n    data.append('cloud_name', 'mandela')\n    const res = await axios.post(\n      'https://api.cloudinary.com/v1_1/mandela/image/upload',\n      data\n    )\n    return res.data.url\n  }\n\n  const handleSubmit = async event => {\n    try {\n      event.preventDefault()\n      setSubmitting(true)\n      const url = await handleImageUpload()\n      const { latitude, longitude } = state.draft\n      const variables = { title, image: url, content, latitude, longitude }\n      await client.request(CREATE_PIN_MUTATION, variables)\n      handleDeleteDraft()\n    } catch (err) {\n      setSubmitting(false)\n      console.error('Error creating pin', err)\n    }\n  }\n\n  return (\n    <form className={classes.form}>\n      <Typography\n        className={classes.alignCenter}\n        component='h2'\n        variant='h4'\n        color='secondary'\n      >\n        <LandscapeIcon className={classes.iconLarge} /> Pin Location\n      </Typography>\n      <div>\n        <TextField\n          name='title'\n          label='Title'\n          placeholder='Insert pin title'\n          onChange={e => setTitle(e.target.value)}\n        />\n        <input\n          accept='image/*'\n          id='image'\n          type='file'\n          className={classes.input}\n          onChange={e => setImage(e.target.files[0])}\n        />\n        <label htmlFor='image'>\n          <Button\n            style={{ color: image && 'green' }}\n            component='span'\n            size='small'\n            className={classes.button}\n          >\n            <AddAPhotoIcon />\n          </Button>\n        </label>\n      </div>\n      <div className={classes.contentField}>\n        <TextField\n          name='content'\n          label='Content'\n          multiline\n          rows={mobileSize ? '3' : '6'}\n          margin='normal'\n          fullWidth\n          variant='outlined'\n          onChange={e => setContent(e.target.value)}\n        />\n      </div>\n      <div>\n        <Button\n          onClick={handleDeleteDraft}\n          className={classes.button}\n          variant='contained'\n          color='primary'\n        >\n          <ClearIcon className={classes.leftIcon} />\n          Discard\n        </Button>\n        <Button\n          type='submit'\n          className={classes.button}\n          variant='contained'\n          color='secondary'\n          disabled={!title.trim() || !content.trim() || !image || submitting}\n          onClick={handleSubmit}\n        >\n          Submit\n          <SaveIcon className={classes.rightIcon} />\n        </Button>\n      </div>\n    </form>\n  )\n}\n\nconst styles = theme => ({\n  form: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column',\n    paddingBottom: theme.spacing.unit\n  },\n  contentField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: '95%'\n  },\n  input: {\n    display: 'none'\n  },\n  alignCenter: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  iconLarge: {\n    fontSize: 40,\n    marginRight: theme.spacing.unit\n  },\n  leftIcon: {\n    fontSize: 20,\n    marginRight: theme.spacing.unit\n  },\n  rightIcon: {\n    fontSize: 20,\n    marginLeft: theme.spacing.unit\n  },\n  button: {\n    marginTop: theme.spacing.unit * 2,\n    marginBottom: theme.spacing.unit * 2,\n    marginRight: theme.spacing.unit,\n    marginLeft: 0\n  }\n})\n\nexport default withStyles(styles)(CreatePin)\n","export const CREATE_PIN_MUTATION = `\n  mutation($title: String!, $image: String!, $content: String!, $latitude: Float!, $longitude: Float!) {\n    createPin(input: {\n      title: $title,\n      image: $image,\n      content: $content,\n      latitude: $latitude,\n      longitude: $longitude\n    }) {\n      _id\n      createdAt\n      title \n      image\n      content\n      latitude\n      longitude\n      author {\n        _id\n        name\n        email\n        picture\n      }\n    }\n  }\n`;\n\nexport const DELETE_PIN_MUTATION = `\n  mutation($pinId: ID!) {\n    deletePin(pinId: $pinId) {\n      _id\n    }\n  }\n`;\n\nexport const CREATE_COMMENT_MUTATION = `\n  mutation($pinId: ID!, $text: String!) {\n    createComment(pinId: $pinId, text: $text) {\n      _id\n      createdAt\n      title\n      content\n      image\n      latitude\n      longitude\n      author {\n        _id\n        name\n      }\n      comments {\n        text\n        createdAt\n        author {\n          name\n          picture\n        }\n      }\n    }\n  }\n`","import React, { useState, useContext } from 'react'\nimport { withStyles } from '@material-ui/core'\nimport InputBase from '@material-ui/core/InputBase'\nimport IconButton from '@material-ui/core/IconButton'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport SendIcon from '@material-ui/icons/Send'\nimport Divider from '@material-ui/core/Divider'\n\nimport { CREATE_COMMENT_MUTATION } from '../../graphql/mutations'\nimport { useClient } from '../../client'\nimport Context from '../../context'\n\nconst CreateComment = ({ classes }) => {\n  const client = useClient()\n  const { state } = useContext(Context)\n  const [comment, setComment] = useState('')\n\n  const handleSubmitComment = async () => {\n    const variables = { pinId: state.currentPin._id, text: comment }\n    await client.request(CREATE_COMMENT_MUTATION, variables)\n    setComment('')\n  }\n\n  return (\n    <>\n      <form className={classes.form}>\n        <IconButton\n          onClick={() => setComment('')}\n          disabled={!comment.trim()}\n          className={classes.clearButton}\n        >\n          <ClearIcon />\n        </IconButton>\n        <InputBase\n          className={classes.input}\n          placeholder='Add Comment'\n          multiline={true}\n          value={comment}\n          onChange={e => setComment(e.target.value)}\n        />\n        <IconButton\n          onClick={handleSubmitComment}\n          disabled={!comment.trim()}\n          className={classes.sendButton}\n        >\n          <SendIcon />\n        </IconButton>\n      </form>\n      <Divider />\n    </>\n  )\n}\n\nconst styles = theme => ({\n  form: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1\n  },\n  clearButton: {\n    padding: 0,\n    color: 'red'\n  },\n  sendButton: {\n    padding: 0,\n    color: theme.palette.secondary.dark\n  }\n})\n\nexport default withStyles(styles)(CreateComment)\n","import React from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\nimport Avatar from '@material-ui/core/Avatar'\nimport Typography from '@material-ui/core/Typography'\nimport distanceInWordsToNow from 'date-fns/distance_in_words_to_now'\n\nconst Comments = ({ comments, classes }) => (\n  <List className={classes.root}>\n    {comments.map((comment, i) => (\n      <ListItem key={i} alignItems='flex-start'>\n        <ListItemAvatar>\n          <Avatar src={comment.author.picture} alt={comment.author.name} />\n        </ListItemAvatar>\n        <ListItemText\n          primary={comment.text}\n          secondary={\n            <>\n              <Typography\n                className={classes.inline}\n                component='span'\n                color='textPrimary'\n              >\n                {comment.author.name}\n              </Typography>{' '}\n              · {distanceInWordsToNow(Number(comment.createdAt))} ago\n            </>\n          }\n        />\n      </ListItem>\n    ))}\n  </List>\n)\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  inline: {\n    display: 'inline'\n  }\n})\n\nexport default withStyles(styles)(Comments)\n","import React, { useContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport AccessTimeIcon from '@material-ui/icons/AccessTime'\nimport FaceIcon from '@material-ui/icons/Face'\nimport format from 'date-fns/format'\n\nimport CreateComment from '../Comment/CreateComment'\nimport Comments from '../Comment/Comments'\nimport Context from '../../context'\n\nconst PinContent = ({ classes }) => {\n  const { state } = useContext(Context)\n  const { title, content, author, createdAt, comments } = state.currentPin\n  return (\n    <div className={classes.root}>\n      <Typography component='h2' variant='h4' color='primary' gutterBottom>\n        {title}\n      </Typography>\n      <Typography\n        className={classes.text}\n        component='h3'\n        variant='h6'\n        color='inherit'\n        gutterBottom\n      >\n        <FaceIcon className={classes.icon} /> {author.name}\n      </Typography>\n      <Typography\n        className={classes.text}\n        variant='subtitle2'\n        color='inherit'\n        gutterBottom\n      >\n        <AccessTimeIcon className={classes.icon} />\n        {format(Number(createdAt), 'MMM Do, YYYY')}\n      </Typography>\n      <Typography variant='subtitle1' gutterBottom>\n        {content}\n      </Typography>\n\n      {/* Pin Comments */}\n      <CreateComment />\n      <Comments comments={comments} />\n    </div>\n  )\n}\n\nconst styles = theme => ({\n  root: {\n    padding: '1em 0.5em',\n    textAlign: 'center',\n    width: '320px'\n  },\n  icon: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit\n  },\n  text: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n})\n\nexport default withStyles(styles)(PinContent)\n","import React, { useContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport { Paper } from '@material-ui/core'\nimport { unstable_useMediaQuery as useMediaQuery } from '@material-ui/core/useMediaQuery'\n\nimport Context from '../context'\nimport NoContent from './Pin/NoContent'\nimport CreatePin from './Pin/CreatePin'\nimport PinContent from './Pin/PinContent'\n\nconst Blog = ({ classes }) => {\n  const mobileSize = useMediaQuery('(max-width: 650px)')\n  const { state } = useContext(Context)\n  const { draft, currentPin } = state\n\n  let BlogContent\n  if (!draft && !currentPin) {\n    BlogContent = NoContent\n  } else if (draft && !currentPin) {\n    BlogContent = CreatePin\n  } else if (!draft && currentPin) {\n    BlogContent = PinContent\n  } else if (!currentPin) {\n    BlogContent = NoContent\n  }\n\n  return (\n    <Paper className={mobileSize ? classes.rootMobile : classes.root}>\n      <BlogContent />\n    </Paper>\n  )\n}\n\nconst styles = {\n  root: {\n    minWidth: 350,\n    maxWidth: 400,\n    maxHeight: 'calc(100vh - 64px)',\n    overflowY: 'scroll',\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  rootMobile: {\n    maxWidth: '100%',\n    maxHeight: 300,\n    overflowX: 'hidden',\n    overflowY: 'scroll'\n  }\n}\n\nexport default withStyles(styles)(Blog)\n","import gql from 'graphql-tag'\n\nexport const PIN_ADDED_SUBSCRIPTION = gql`\n  subscription {\n    pinAdded {\n      _id\n      createdAt\n      title\n      image\n      content\n      latitude\n      longitude\n      author {\n        _id\n        name\n        email\n        picture\n      }\n      comments {\n        text\n        createdAt\n        author {\n          name\n          picture\n        }\n      }\n    }\n  }\n`;\n\nexport const PIN_UPDATED_SUBSCRIPTION = gql`\n  subscription {\n    pinUpdated {\n      _id\n      createdAt\n      title\n      content\n      image\n      latitude\n      longitude\n      author {\n        _id\n        name\n      }\n      comments {\n        text\n        createdAt\n        author {\n          name\n          picture\n        }\n      }\n    }\n  }\n`;\n\nexport const PIN_DELETED_SUBSCRIPTION = gql`\n  subscription {\n    pinDeleted {\n      _id\n    }\n  }\n`;\n","import React, { useContext } from 'react'\r\nimport { Subscription } from 'react-apollo'\r\nimport * as SUBSCRIPTION from '../../graphql/subscriptions'\r\nimport Context from '../../context'\r\n\r\nexport const Subscriptions = () => {\r\n  const { dispatch } = useContext(Context)\r\n  return (<>\r\n    <Subscription\r\n      subscription={SUBSCRIPTION.PIN_ADDED_SUBSCRIPTION}\r\n      onSubscriptionData={({ subscriptionData }) => {\r\n        const { pinAdded } = subscriptionData.data\r\n        dispatch({ type: 'CREATE_PIN', payload: pinAdded })\r\n      }}\r\n    />\r\n    <Subscription\r\n      subscription={SUBSCRIPTION.PIN_UPDATED_SUBSCRIPTION}\r\n      onSubscriptionData={({ subscriptionData }) => {\r\n        const { pinUpdated } = subscriptionData.data\r\n        dispatch({ type: 'CREATE_COMMENT', payload: pinUpdated })\r\n      }}\r\n    />\r\n    <Subscription\r\n      subscription={SUBSCRIPTION.PIN_DELETED_SUBSCRIPTION}\r\n      onSubscriptionData={({ subscriptionData }) => {\r\n        const { pinDeleted } = subscriptionData.data\r\n        dispatch({ type: 'DELETE_PIN', payload: pinDeleted })\r\n      }}\r\n    />\r\n  </>)\r\n}","import React from 'react'\r\nimport { Tooltip, IconButton, withStyles } from '@material-ui/core'\r\nimport MyLocationIcon from '@material-ui/icons/MyLocation'\r\n\r\nconst GetUserPosition = ({classes, getUserPosition}) => {\r\n  return (<>\r\n    <Tooltip title='Show your location' placement=\"left\">\r\n      <IconButton className={classes.locateUser} onClick={getUserPosition}>\r\n        <MyLocationIcon />\r\n      </IconButton>\r\n    </Tooltip>\r\n  </>)\r\n}\r\n\r\nconst styles = {\r\n  locateUser: {\r\n    position: 'absolute',\r\n    top: '44px',\r\n    left: 'calc(100vw - 410px)',\r\n    margin: '1em',\r\n    padding: '0.2em',\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(GetUserPosition)","import React from 'react'\r\nimport { Popup } from 'react-map-gl'\r\nimport { Button, Typography } from '@material-ui/core'\r\nimport DeleteIcon from '@material-ui/icons/DeleteTwoTone'\r\n\r\nexport const PopupDialog = (props) => {\r\n  const { classes, handleDeletePin, isAuthUser, popup, closePopup } = props\r\n  return (\r\n    <Popup\r\n      anchor='top'\r\n      latitude={popup.latitude}\r\n      longitude={popup.longitude}\r\n      closeOnClick={false}\r\n      onClose={() => closePopup()}\r\n    >\r\n      <img\r\n        className={classes.popupImage}\r\n        src={popup.image}\r\n        alt={popup.title}\r\n      />\r\n      <div className={classes.popupTab}>\r\n        <Typography>\r\n          lat:{' '}{popup.latitude.toFixed(6)}, long:{' '}{popup.longitude.toFixed(6)}\r\n        </Typography>\r\n        {isAuthUser() && (\r\n          <Button onClick={() => handleDeletePin(popup)}>\r\n            <DeleteIcon className={classes.deleteIcon} />\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </Popup>\r\n  )\r\n}","import React, { useState, useEffect, useContext } from 'react'\nimport ReactMapGL, { NavigationControl, Marker } from 'react-map-gl'\nimport { withStyles } from '@material-ui/core'\nimport { unstable_useMediaQuery as useMediaQuery } from '@material-ui/core/useMediaQuery'\nimport differenceInMinutes from 'date-fns/difference_in_minutes'\n\nimport { useClient } from '../../client'\nimport Context from '../../context'\nimport { GET_PINS_QUERY } from '../../graphql/queries'\nimport { DELETE_PIN_MUTATION } from '../../graphql/mutations'\nimport PinIcon from '../PinIcon'\nimport Blog from '../Blog'\nimport { Subscriptions } from './Subscriptions'\nimport GetUserPosition from './GetUserPosition'\nimport { PopupDialog } from './PopupDialog'\n\nconst INITIAL_VIEWPORT = {\n  latitude: 45.5016889,\n  longitude: -73.567256,\n  zoom: 13\n}\n\nconst Map = ({ classes }) => {\n  const client = useClient()\n  const mobileSize = useMediaQuery('(max-width: 650px)')\n  const { state, dispatch } = useContext(Context)\n  useEffect(() => {\n    getPins()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n  const [viewport, setViewport] = useState(INITIAL_VIEWPORT)\n  const [userPosition, setUserPosition] = useState(null)\n  /* useEffect(() => {\n    getUserPosition()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []) */\n  const [popup, setPopup] = useState(null)\n  // remove popup if pin itself is deleted by the author of the pin\n  useEffect(() => {\n    const pinExists =\n      popup && state.pins.findIndex(pin => pin._id === popup._id) > -1\n    if (!pinExists) {\n      setPopup(null)\n    }\n  }, [popup, state.pins, state.pins.length])\n\n  const getUserPosition = () => {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const { latitude, longitude } = position.coords\n        setViewport({ ...viewport, latitude, longitude })\n        setUserPosition({ latitude, longitude })\n      })\n    }\n  }\n\n  const getPins = async () => {\n    const { getPins } = await client.request(GET_PINS_QUERY)\n    dispatch({ type: 'GET_PINS', payload: getPins })\n  }\n\n  const handleMapClick = ({ lngLat, leftButton }) => {\n    if (!leftButton) return\n    if (!state.draft) {\n      dispatch({ type: 'CREATE_DRAFT' })\n    }\n    const [longitude, latitude] = lngLat\n    dispatch({\n      type: 'UPDATE_DRAFT_LOCATION',\n      payload: { longitude, latitude }\n    })\n  }\n\n  const highlightNewPin = pin => {\n    const isNewPin =\n      differenceInMinutes(Date.now(), Number(pin.createdAt)) <= 30\n    return isNewPin ? 'limegreen' : 'darkblue'\n  }\n\n  const handleSelectPin = pin => {\n    setPopup(pin)\n    dispatch({ type: 'SET_PIN', payload: pin })\n  }\n\n  const isAuthUser = () => state.currentUser._id === popup.author._id\n\n  const handleDeletePin = async pin => {\n    const variables = { pinId: pin._id }\n    await client.request(DELETE_PIN_MUTATION, variables)\n    setPopup(null)\n  }\n\n  const createdPins = state.pins.map(pin => (\n    <Marker\n      key={pin._id}\n      latitude={pin.latitude}\n      longitude={pin.longitude}\n      offsetLeft={-19}\n      offsetTop={-37}\n    >\n      <PinIcon\n        onClick={() => handleSelectPin(pin)}\n        size={40}\n        color={highlightNewPin(pin)}\n      />\n    </Marker>\n  ))\n\n  const closePopup = () => {\n    setPopup(null)\n    dispatch({ type: 'SET_PIN_NULL' })\n  }\n\n  return (\n    <div className={mobileSize ? classes.rootMobile : classes.root}>\n      <ReactMapGL\n        width='100vw'\n        height='calc(100vh - 64px)'\n        mapStyle={state.mapStyle}\n        mapboxApiAccessToken='pk.eyJ1IjoibWFyZ29yYW0iLCJhIjoiY2p2bjAzdXFmMWlxYTQzcW9lNzV1Y2VidyJ9.s8NZnrn0FJaEKUQoJ9e36A'\n        scrollZoom={!mobileSize}\n        onViewportChange={newViewport => setViewport(newViewport)}\n        onClick={handleMapClick}\n        {...viewport}\n      >\n        {/* Navigation Control */}\n        <div className={classes.navigationControl}>\n          <NavigationControl\n            onViewportChange={newViewport => setViewport(newViewport)}\n          />\n        </div>\n\n        {/* Pin for User's Current Position */}\n        {userPosition && (\n          <Marker\n            latitude={userPosition.latitude}\n            longitude={userPosition.longitude}\n            offsetLeft={-19}\n            offsetTop={-37}\n          >\n            <PinIcon size={40} color='red' />\n          </Marker>\n        )}\n\n        {/* Draft Pin */}\n        {state.draft && (\n          <Marker\n            latitude={state.draft.latitude}\n            longitude={state.draft.longitude}\n            offsetLeft={-19}\n            offsetTop={-37}\n          >\n            <PinIcon size={40} color='hotpink' />\n          </Marker>\n        )}\n\n        {/* Created Pins */}\n        {createdPins}\n\n        {/* Popup Dialog for Created Pins */}\n        {popup && (<PopupDialog classes={classes} handleDeletePin={handleDeletePin} isAuthUser={isAuthUser} popup={popup} closePopup={closePopup} />)}\n      </ReactMapGL>\n      {/* Locate user button */}\n      <GetUserPosition getUserPosition={getUserPosition} />\n      {/* Subscriptions for Creating / Updating / Deleting Pins */}\n      <Subscriptions />\n      {/* Blog Area to add Pin Content */}\n      <Blog />\n    </div>\n  )\n}\n\nconst styles = {\n  root: {\n    display: 'flex'\n  },\n  rootMobile: {\n    display: 'flex',\n    flexDirection: 'column-reverse'\n  },\n  navigationControl: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    margin: '1em'\n  },\n  locateUser: {\n    position: 'absolute',\n    top: '44px',\n    left: 'calc(100vw - 410px)',\n    margin: '1em',\n    padding: '0.2em',\n  },\n  deleteIcon: {\n    color: 'red'\n  },\n  popupImage: {\n    padding: '0.4em',\n    height: 200,\n    width: 200,\n    objectFit: 'cover'\n  },\n  popupTab: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column'\n  }\n}\n\nexport default withStyles(styles)(Map)\n","export const ME_QUERY = `\n{\n  me {\n    _id\n\t\tname\n\t\temail\n\t\tpicture\n  }\n}\n`;\n\nexport const GET_PINS_QUERY = `\n  {\n    getPins {\n      _id\n      createdAt\n      title\n      image\n      content\n      latitude\n      longitude\n      author {\n        _id\n        name\n        email\n        picture\n      }\n      comments {\n        text\n        createdAt\n        author {\n          _id \n          name\n          picture\n        }\n      }\n    }\n  }\n`\n","import React from 'react'\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport purple from '@material-ui/core/colors/purple'\nimport green from '@material-ui/core/colors/green'\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: purple[300],\n      main: purple[500],\n      dark: purple[700]\n    },\n    secondary: {\n      light: green[300],\n      main: green[500],\n      dark: green[700]\n    }\n  },\n  typography: {\n    useNextVariants: true\n  }\n})\n\nfunction withRoot(Component) {\n  function WithRoot(props) {\n    // MuiThemeProvider makes the theme available down the React tree\n    // thanks to React context.\n    return (\n      <MuiThemeProvider theme={theme}>\n        {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n        {/* https://material-ui.com/getting-started/usage/#cssbaseline */}\n        <CssBaseline />\n        <Component {...props} />\n      </MuiThemeProvider>\n    )\n  }\n\n  return WithRoot\n}\n\nexport default withRoot\n","import React from 'react'\n\n/* import Header from '../components/Header' */\nimport Map from '../components/Map/Map'\nimport withRoot from '../withRoot'\n\nconst App = () => {\n  return (\n    <>\n      {/* <Header /> */}\n      <Map />\n    </>\n  )\n}\n\nexport default withRoot(App)\n","import React, { useContext } from 'react'\nimport { GraphQLClient } from 'graphql-request'\nimport { GoogleLogin } from 'react-google-login'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Context from '../../context'\nimport { ME_QUERY } from '../../graphql/queries'\nimport { BASE_URL } from '../../client'\n\nconst Login = ({ classes }) => {\n  const { dispatch } = useContext(Context)\n\n  const onSuccess = async googleUser => {\n    try {\n      const idToken = googleUser.getAuthResponse().id_token\n      const client = new GraphQLClient(BASE_URL, {\n        headers: { authorization: idToken }\n      })\n      const { me } = await client.request(ME_QUERY)\n      dispatch({ type: 'LOGIN_USER', payload: me })\n      dispatch({ type: 'IS_LOGGED_IN', payload: googleUser.isSignedIn() })\n    } catch (err) {\n      onFailure(err)\n    }\n  }\n\n  const onFailure = err => {\n    console.error('Error logging in', err)\n    dispatch({ type: 'IS_LOGGED_IN', payload: false })\n  }\n\n  return (\n    <div className={classes.logo}>\n      <Typography\n        component='h1'\n        variant='h3'\n        gutterBottom\n        noWrap\n        style={{ color: '#4285f4' }}\n      >\n        Welcome\n      </Typography>\n      <GoogleLogin\n        clientId={'71269275933-tbf0sp5p8tbprfvhpmjve981susv0ell.apps.googleusercontent.com'}\n        onSuccess={onSuccess}\n        onFailure={onFailure}\n        isSignedIn={true}\n        buttonText='Login with Google'\n        theme='dark'\n      />\n      <Typography\n        component='h1'\n        variant='h3'\n        gutterBottom\n        noWrap\n        style={{ color: '#34495E', marginTop: '.5em' }}\n      >\n        Please share an ePostal card...\n      </Typography>\n    </div>\n  )\n}\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n  logo: {\n    height: '80vh',\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center'\n  }\n}\n\nexport default withStyles(styles)(Login)\n","import React, { useContext } from 'react'\nimport { Redirect } from 'react-router-dom'\n\nimport Login from '../components/Auth/Login'\nimport Context from '../context'\n\nconst Splash = () => {\n  const { state } = useContext(Context)\n  return state.isAuth ? <Redirect to='/' /> : <Login />\n}\n\nexport default Splash\n","import React, { useContext } from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nimport Context from './context'\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n  const { state } = useContext(Context)\n  return (\n    <Route\n      render={props =>\n        !state.isAuth ? <Redirect to='/login' /> : <Component {...props} />\n      }\n      {...rest}\n    />\n  )\n}\n\nexport default ProtectedRoute\n","export default function reducer(state, { type, payload }) {\n  switch (type) {\n    case 'LOGIN_USER':\n      return {\n        ...state,\n        currentUser: payload\n      }\n    case 'IS_LOGGED_IN':\n      return {\n        ...state,\n        isAuth: payload\n      }\n    case 'SIGNOUT_USER':\n      return {\n        ...state,\n        isAuth: false,\n        currentUser: null\n      }\n    case 'CREATE_DRAFT':\n      return {\n        ...state,\n        currentPin: null,\n        draft: {\n          latitude: 0,\n          longitude: 0\n        }\n      }\n    case 'UPDATE_DRAFT_LOCATION':\n      return {\n        ...state,\n        draft: payload\n      }\n    case 'DELETE_DRAFT':\n      return {\n        ...state,\n        draft: null\n      }\n    case 'GET_PINS':\n      return {\n        ...state,\n        pins: payload\n      }\n    case 'CREATE_PIN':\n      const newPin = payload\n      const prevPins = state.pins.filter(pin => pin._id !== newPin._id)\n      return {\n        ...state,\n        pins: [...prevPins, newPin]\n      }\n    case 'SET_PIN':\n      return {\n        ...state,\n        currentPin: payload,\n        draft: null\n      }\n    case 'DELETE_PIN':\n      const deletedPin = payload\n      const filteredPins = state.pins.filter(pin => pin._id !== deletedPin._id)\n      if (state.currentPin) {\n        const isCurrentPin = deletedPin._id === state.currentPin._id\n        if (isCurrentPin) {\n          return {\n            ...state,\n            pins: filteredPins,\n            currentPin: null\n          }\n        }\n      }\n      return {\n        ...state,\n        pins: filteredPins\n      }\n    case 'CREATE_COMMENT':\n      const updatedCurrentPin = payload\n      // find and replace\n      const updatedPins = state.pins.map(pin =>\n        pin._id === updatedCurrentPin._id ? updatedCurrentPin : pin\n      )\n      return {\n        ...state,\n        pins: updatedPins,\n        currentPin: updatedCurrentPin\n      }\n    case 'SET_PIN_NULL':\n      return {\n        ...state,\n        currentPin: null\n      }\n    case 'SET_SATELLITE':\n      return { ...state, mapStyle: payload }\n    case 'SET_STREETS':\n      return { ...state, mapStyle: payload }\n    default:\n      return state\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { useContext } from 'react'\nimport { GoogleLogout } from 'react-google-login'\nimport { withStyles } from '@material-ui/core/styles'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport Typography from '@material-ui/core/Typography'\nimport { unstable_useMediaQuery as useMediaQuery } from '@material-ui/core/useMediaQuery'\n\nimport Context from '../../context'\n\nconst Signout = ({ classes }) => {\n  const mobileSize = useMediaQuery('(max-width: 650px)')\n  const { dispatch } = useContext(Context)\n\n  const onSignout = () => {\n    dispatch({ type: 'SIGNOUT_USER' })\n    console.log('Signed out user')\n  }\n\n  return (\n    <GoogleLogout\n      onLogoutSuccess={onSignout}\n      render={({ onClick }) => (\n        <span className={classes.root} onClick={onClick}>\n          <Typography\n            style={{ display: mobileSize ? 'none' : 'block' }}\n            variant='body1'\n            className={classes.buttonText}\n          >\n            Signout\n          </Typography>\n          <ExitToAppIcon className={classes.buttonIcon} />\n        </span>\n      )}\n    />\n  )\n}\n\nconst styles = {\n  root: {\n    cursor: 'pointer',\n    display: 'flex'\n  },\n  buttonText: {\n    color: 'orange'\n  },\n  buttonIcon: {\n    marginLeft: '5px',\n    color: 'orange'\n  }\n}\n\nexport default withStyles(styles)(Signout)\n","import React, { useContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport MapIcon from '@material-ui/icons/Map'\nimport Typography from '@material-ui/core/Typography'\nimport { unstable_useMediaQuery as useMediaQuery } from '@material-ui/core/useMediaQuery'\n\nimport Context from '../context'\nimport Signout from '../components/Auth/Signout'\n\nconst Header = ({ classes }) => {\n  const mobileSize = useMediaQuery('(max-width: 650px)')\n  const { state } = useContext(Context)\n  const { currentUser } = state\n  return (\n    <div className={classes.root}>\n      <AppBar position='static'>\n        <Toolbar>\n          {/* Title / Logo */}\n          <div className={classes.grow}>\n            <MapIcon className={classes.icon} />\n            <Typography\n              className={mobileSize ? classes.mobile : ''}\n              component='h1'\n              variant='h6'\n              color='inherit'\n              noWrap\n            >\n              React Map Pins\n            </Typography>\n          </div>\n\n          {/* Current User Info */}\n          {currentUser && (\n            <div className={classes.grow1}>\n              <img\n                className={classes.picture}\n                src={currentUser.picture}\n                alt={currentUser.name}\n              />\n              <Typography\n                className={mobileSize ? classes.mobile : classes.margin}\n                variant='h6'\n                color='inherit'\n                noWrap\n              >\n                {currentUser.name}\n              </Typography>\n              {/* Signout Button */}\n              <Signout />\n            </div>\n          )}\n        </Toolbar>\n      </AppBar>\n    </div>\n  )\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1\n  },\n  grow: {\n    flexGrow: 1,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  grow1: {\n    flexGrow: 1,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n  },\n  margin: {\n    marginRight: theme.spacing.unit,\n  },\n  icon: {\n    marginRight: theme.spacing.unit,\n    color: 'green',\n    fontSize: 40\n  },\n  mobile: {\n    display: 'none'\n  },\n  picture: {\n    height: '30px',\n    borderRadius: '90%',\n    marginRight: theme.spacing.unit * 2\n  }\n})\n\nexport default withStyles(styles)(Header)\n","import React, { useContext, useReducer } from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\n\nimport App from './pages/App'\nimport Splash from './pages/Splash'\nimport ProtectedRoute from './ProtectedRoute'\nimport Context from './context'\nimport reducer from './reducer'\n\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport 'react-open-weather/lib/css/ReactWeather.css'\nimport * as serviceWorker from './serviceWorker'\n\nimport { ApolloProvider } from 'react-apollo'\nimport { ApolloClient } from 'apollo-client'\nimport { WebSocketLink } from 'apollo-link-ws'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport Header from './components/Header'\n\nconst wsLink = new WebSocketLink({\n  uri: 'wss://tranquil-reef-69433.herokuapp.com/graphql', // ws://localhost/graphql\n  options: {\n    reconnect: true\n  }\n})\n\nconst client = new ApolloClient({\n  link: wsLink,\n  cache: new InMemoryCache()\n})\n\nconst Root = () => {\n  const initialState = useContext(Context)\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  return (\n    <Router>\n      <ApolloProvider client={client}>\n        <Context.Provider value={{ state, dispatch }}>\n          <Header />\n          <Switch>\n            <ProtectedRoute exact path='/' component={App} />\n            <Route path='/login' component={Splash} />\n          </Switch>\n        </Context.Provider>\n      </ApolloProvider>\n    </Router>\n  )\n}\n\nReactDOM.render(<Root />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register()\n"],"sourceRoot":""}